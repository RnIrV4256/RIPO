# Gate feedback by reliability; implement when needed.

def reliability_from_mask(mask, H=None, prior=None):
    # TODO: compute TTA IoU, prior IoU, gradient alignment, etc.
    return 0.0

def weak_update(prev_text, info_json):
    # TODO: add small edits such as location/size tokens
    return prev_text